
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">


<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
  <title>Speech Parrot Page</title>
  <script type="text/javascript" src="http://www.speechapi.com/static/lib/speechapi-1.3.js"></script>
  <script type="text/javascript" src="http://www.speechapi.com/static/lib/swfobject.js"></script>
  <script language="JavaScript" type="text/javascript" >

		var words = ["play song", "pause song", "next song", "previous song"];

        function onLoaded() {
  		speechapi.setupRecognition("SIMPLE", document.getElementById('words').value,false,false);
	}

        var flashvars = {speechServer : "http://www.speechapi.com:8000/speechcloud"};
	//var flashvars = {speechServer : "rtmp://www.speechapi.com:1935/firstapp"};
        var params = {allowscriptaccess : "always"};
	var attributes = {};
	attributes.id = "flashContent";
	swfobject.embedSWF("http://www.speechapi.com/static/lib/speechapi-1.6.swf", "myAlternativeContent", "215", "138", "9.0.28", false,flashvars, params, attributes);
	speechapi.setup("eli","password",onResult, 
			onFinishTTS, onLoaded, "flashContent");


	function onResult(result) {
		document.getElementById('answer').innerHTML = result.text;
		if(result.text == "play song"){
			alert("play song");
		}
		else if(result.text == "pause song"){
			alert("pause song");
		}
		else if(result.text == "next song"){
			alert("next song");
		}
		else if(result.text == "previous song"){
			alert("previous song");
		}
		speechapi.speak(result.text,"male");
	}

	function onFinishTTS() {
		//alert("finishTTS");
	}
	function ResetGrammar() {
		speechapi.setupRecognition("SIMPLE", document.getElementById('words').value,false);
	}	
</script>

</head>
<body>


<br>
<table border="1" width=>
<tr>
  <td>Words</td>
  <!--=<td><input type="text" id="words" value="play song, pause song, next song, previous song" size="100"/><input type="button" value="Reset Grammar" onclick="ResetGrammar()"></td>-->
</tr>
<tr>
  <td>RESULT</td>
  <td><b id='answer'></b></td>
</table>
<br>


<div id="myAlternativeContent"></div>
<div id="flashContent"></div>



</body>
</html>
